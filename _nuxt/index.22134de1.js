import{ad as I,r as E,a6 as P,ar as O,af as W,N as D,as as F,I as A,al as L,o as M}from"./entry.2b431c7a.js";function R(e,n){let o,t,u;const i=E(!0),c=()=>{i.value=!0,u()};P(e,c,{flush:"sync"});const l=typeof n=="function"?n:n.get,s=typeof n=="function"?void 0:n.set,d=O((f,p)=>(t=f,u=p,{get(){return i.value&&(o=l(),i.value=!1),t(),o},set(r){s==null||s(r)}}));return Object.isExtensible(d)&&(d.trigger=c),d}function _(e){return I()?(W(e),!0):!1}function w(e){return typeof e=="function"?e():D(e)}const T=typeof window<"u",b=()=>{},k=j();function j(){var e;return T&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function N(e,n){function o(...t){return new Promise((u,i)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(u).catch(i)})}return o}function B(e,n={}){let o,t,u=b;const i=l=>{clearTimeout(l),u(),u=b};return l=>{const s=w(e),d=w(n.maxWait);return o&&i(o),s<=0||d!==void 0&&d<=0?(t&&(i(t),t=null),Promise.resolve(l())):new Promise((f,p)=>{u=n.rejectOnCancel?p:f,d&&!t&&(t=setTimeout(()=>{o&&i(o),t=null,f(l())},d)),o=setTimeout(()=>{t&&i(t),t=null,f(l())},s)})}}function J(e,n=200,o={}){return N(B(n,o),e)}function q(e,n,o={}){const{immediate:t=!0}=o,u=E(!1);let i=null;function c(){i&&(clearTimeout(i),i=null)}function l(){u.value=!1,c()}function s(...d){c(),u.value=!0,i=setTimeout(()=>{u.value=!1,i=null,e(...d)},w(n))}return t&&(u.value=!0,T&&s()),_(l),{isPending:F(u),start:s,stop:l}}function y(e){var n;const o=w(e);return(n=o==null?void 0:o.$el)!=null?n:o}const S=T?window:void 0,V=T?window.navigator:void 0;function h(...e){let n,o,t,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,t,u]=e,n=S):[n,o,t,u]=e,!n)return b;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const i=[],c=()=>{i.forEach(f=>f()),i.length=0},l=(f,p,r,a)=>(f.addEventListener(p,r,a),()=>f.removeEventListener(p,r,a)),s=P(()=>[y(n),w(u)],([f,p])=>{c(),f&&i.push(...o.flatMap(r=>t.map(a=>l(f,r,a,p))))},{immediate:!0,flush:"post"}),d=()=>{s(),c()};return _(d),d}let C=!1;function K(e,n,o={}){const{window:t=S,ignore:u=[],capture:i=!0,detectIframe:c=!1}=o;if(!t)return;k&&!C&&(C=!0,Array.from(t.document.body.children).forEach(r=>r.addEventListener("click",b)),t.document.documentElement.addEventListener("click",b));let l=!0;const s=r=>u.some(a=>{if(typeof a=="string")return Array.from(t.document.querySelectorAll(a)).some(v=>v===r.target||r.composedPath().includes(v));{const v=y(a);return v&&(r.target===v||r.composedPath().includes(v))}}),f=[h(t,"click",r=>{const a=y(e);if(!(!a||a===r.target||r.composedPath().includes(a))){if(r.detail===0&&(l=!s(r)),!l){l=!0;return}n(r)}},{passive:!0,capture:i}),h(t,"pointerdown",r=>{const a=y(e);a&&(l=!r.composedPath().includes(a)&&!s(r))},{passive:!0}),c&&h(t,"blur",r=>{setTimeout(()=>{var a;const v=y(e);((a=t.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(v!=null&&v.contains(t.document.activeElement))&&n(r)},0)})].filter(Boolean);return()=>f.forEach(r=>r())}function $(e={}){var n;const{window:o=S,deep:t=!0}=e,u=(n=e.document)!=null?n:o==null?void 0:o.document,i=()=>{var l;let s=u==null?void 0:u.activeElement;if(t)for(;s!=null&&s.shadowRoot;)s=(l=s==null?void 0:s.shadowRoot)==null?void 0:l.activeElement;return s},c=R(()=>null,()=>i());return o&&(h(o,"blur",l=>{l.relatedTarget===null&&c.trigger()},!0),h(o,"focus",c.trigger,!0)),c}function z(){const e=E(!1);return L()&&M(()=>{e.value=!0}),e}function G(e){const n=z();return A(()=>(n.value,!!e()))}function Q(e={}){const{navigator:n=V,read:o=!1,source:t,copiedDuring:u=1500,legacy:i=!1}=e,c=G(()=>n&&"clipboard"in n),l=A(()=>c.value||i),s=E(""),d=E(!1),f=q(()=>d.value=!1,u);function p(){c.value?n.clipboard.readText().then(m=>{s.value=m}):s.value=v()}l.value&&o&&h(["copy","cut"],p);async function r(m=w(t)){l.value&&m!=null&&(c.value?await n.clipboard.writeText(m):a(m),s.value=m,d.value=!0,f.start())}function a(m){const g=document.createElement("textarea");g.value=m??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function v(){var m,g,x;return(x=(g=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:g.toString())!=null?x:""}return{isSupported:l,text:s,copied:d,copy:r}}function U(e,n={}){const o=$(n),t=A(()=>y(e));return{focused:A(()=>t.value&&o.value?t.value.contains(o.value):!1)}}export{J as a,U as b,Q as c,K as o,_ as t,y as u};
